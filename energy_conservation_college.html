<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èƒ½é‡ä¸èƒ½é‡å®ˆæ’å®šå¾‹ - å¤§å­¦ç‰©ç†æ•™å­¦</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                tags: 'ams'
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', 'Microsoft YaHei', sans-serif;
            line-height: 1.7;
            color: #2c3e50;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1300px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            padding: 50px 0;
        }

        .header h1 {
            font-size: 3.2em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            font-weight: 300;
        }

        .header .subtitle {
            font-size: 1.3em;
            opacity: 0.9;
            margin-bottom: 25px;
            font-style: italic;
        }

        .header .description {
            font-size: 1.1em;
            opacity: 0.8;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .content-section {
            background: white;
            border-radius: 18px;
            padding: 35px;
            margin-bottom: 30px;
            box-shadow: 0 12px 35px rgba(0,0,0,0.1);
            position: relative;
        }

        .content-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 18px 18px 0 0;
        }

        .section-title {
            font-size: 2.3em;
            color: #2c3e50;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 20px;
            font-weight: 400;
        }

        .section-number {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            width: 55px;
            height: 55px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3em;
            font-weight: bold;
        }

        .principle-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .principle-title {
            font-size: 1.8em;
            margin-bottom: 20px;
            font-weight: 400;
        }

        .derivation-box {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 30px;
            margin: 30px 0;
            border-left: 6px solid #667eea;
        }

        .derivation-title {
            color: #2c3e50;
            font-size: 1.6em;
            margin-bottom: 25px;
            font-weight: 500;
        }

        .step-box {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #3498db;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .step-title {
            font-weight: bold;
            color: #2980b9;
            margin-bottom: 12px;
            font-size: 1.1em;
        }

        .formula-highlight {
            background: rgba(52, 152, 219, 0.1);
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
            margin: 20px 0;
            text-align: center;
        }

        .concept-box {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 25px;
            border-radius: 12px;
            margin: 25px 0;
            border-left: 5px solid #e67e22;
        }

        .concept-box h3 {
            color: #d35400;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .simulation-container {
            background: #34495e;
            border-radius: 18px;
            padding: 35px;
            margin: 35px 0;
            color: white;
            box-shadow: 0 12px 35px rgba(0,0,0,0.2);
        }

        .simulation-title {
            font-size: 2em;
            text-align: center;
            margin-bottom: 30px;
            color: #3498db;
            font-weight: 300;
        }

        .demo-container {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        canvas {
            border: 3px solid #2c3e50;
            border-radius: 12px;
            background: #ecf0f1;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        .controls-panel {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
        }

        .control-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .control-item {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .control-label {
            font-weight: 500;
            color: #ecf0f1;
            font-size: 1.1em;
        }

        input[type="range"] {
            width: 100%;
            height: 8px;
            background: rgba(255,255,255,0.2);
            border-radius: 4px;
            outline: none;
            -webkit-appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            appearance: none;
            width: 22px;
            height: 22px;
            background: linear-gradient(135deg, #3498db, #2980b9);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }

        .control-value {
            background: rgba(52, 152, 219, 0.8);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 1em;
            text-align: center;
            font-weight: 500;
        }

        .btn {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 500;
            transition: all 0.3s ease;
            margin: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .btn.secondary {
            background: linear-gradient(135deg, #95a5a6, #7f8c8d);
        }

        .btn.reset {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        .energy-dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .energy-meter {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .energy-meter:hover {
            transform: translateY(-5px);
        }

        .meter-title {
            font-size: 1.2em;
            margin-bottom: 15px;
            color: #3498db;
            font-weight: 500;
        }

        .meter-value {
            font-size: 2.2em;
            font-weight: bold;
            color: white;
            margin-bottom: 15px;
        }

        .meter-unit {
            font-size: 0.7em;
            opacity: 0.8;
        }

        .energy-bar {
            width: 100%;
            height: 12px;
            background: rgba(255,255,255,0.2);
            border-radius: 6px;
            margin-top: 15px;
            overflow: hidden;
        }

        .energy-fill {
            height: 100%;
            background: linear-gradient(90deg, #3498db, #2ecc71);
            transition: width 0.5s ease;
            border-radius: 6px;
        }

        .physics-explanation {
            background: #2c3e50;
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .physics-title {
            font-size: 1.8em;
            margin-bottom: 20px;
            color: #3498db;
            text-align: center;
        }

        .equation-display {
            background: rgba(255,255,255,0.1);
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }

        .applications-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 35px 0;
        }

        .application-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border-top: 5px solid #667eea;
            transition: transform 0.3s ease;
        }

        .application-card:hover {
            transform: translateY(-8px);
        }

        .app-icon {
            font-size: 3.5em;
            text-align: center;
            margin-bottom: 20px;
        }

        .app-title {
            color: #2c3e50;
            font-size: 1.5em;
            margin-bottom: 15px;
            font-weight: 500;
            text-align: center;
        }

        .app-description {
            line-height: 1.8;
            margin-bottom: 20px;
            text-align: justify;
        }

        .app-formula {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-family: 'Courier New', monospace;
            border-left: 4px solid #3498db;
            font-size: 1.1em;
        }

        .quiz-section {
            background: #2c3e50;
            color: white;
            border-radius: 20px;
            padding: 40px;
            margin-top: 50px;
        }

        .quiz-title {
            font-size: 2.5em;
            text-align: center;
            margin-bottom: 40px;
            color: #3498db;
            font-weight: 300;
        }

        .question-container {
            background: rgba(255,255,255,0.1);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 25px;
            display: none;
        }

        .question-container.active {
            display: block;
        }

        .question-text {
            font-size: 1.3em;
            margin-bottom: 25px;
            line-height: 1.7;
        }

        .question-image {
            text-align: center;
            margin: 25px 0;
        }

        .options-list {
            display: grid;
            gap: 15px;
            margin-top: 25px;
        }

        .option-item {
            background: rgba(255,255,255,0.1);
            padding: 18px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            font-size: 1.1em;
        }

        .option-item:hover {
            background: rgba(255,255,255,0.2);
        }

        .option-item.correct {
            border-color: #2ecc71;
            background: rgba(46, 204, 113, 0.3);
        }

        .option-item.incorrect {
            border-color: #e74c3c;
            background: rgba(231, 76, 60, 0.3);
        }

        .feedback-section {
            margin-top: 25px;
            padding: 20px;
            border-radius: 10px;
            display: none;
            font-size: 1.1em;
            line-height: 1.7;
        }

        .feedback-section.show {
            display: block;
        }

        .feedback-section.correct {
            background: rgba(46, 204, 113, 0.2);
            border: 2px solid #2ecc71;
        }

        .feedback-section.incorrect {
            background: rgba(231, 76, 60, 0.2);
            border: 2px solid #e74c3c;
        }

        .quiz-navigation {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
        }

        .progress-bar {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin: 30px 0;
        }

        .progress-circle {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            transition: all 0.3s ease;
        }

        .progress-circle.active {
            background: #3498db;
            transform: scale(1.2);
        }

        .progress-circle.completed {
            background: #2ecc71;
        }

        .quiz-results {
            text-align: center;
            font-size: 1.3em;
            margin-top: 40px;
            display: none;
        }

        .quiz-results.show {
            display: block;
        }

        .score-display {
            font-size: 3em;
            font-weight: bold;
            color: #3498db;
            margin: 25px 0;
        }

        .performance-feedback {
            background: rgba(255,255,255,0.1);
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            line-height: 1.8;
        }

        .note-box {
            background: #fff3cd;
            color: #856404;
            padding: 20px;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 5px solid #f39c12;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2.5em;
            }
            
            .content-section {
                padding: 25px;
            }
            
            .section-title {
                font-size: 2em;
                flex-direction: column;
                text-align: center;
            }
            
            .demo-container {
                flex-direction: column;
                align-items: center;
            }
            
            canvas {
                max-width: 100%;
                height: auto;
            }
            
            .control-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 2em;
            }
            
            .section-title {
                font-size: 1.8em;
            }
            
            .applications-section {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å¤´éƒ¨ -->
        <div class="header">
            <h1>èƒ½é‡ä¸èƒ½é‡å®ˆæ’å®šå¾‹</h1>
            <div class="subtitle">Energy and Conservation of Energy</div>
            <div class="description">
                æ¢ç´¢è‡ªç„¶ç•Œæœ€åŸºæœ¬çš„å®ˆæ’å®šå¾‹ä¹‹ä¸€ï¼Œç†è§£èƒ½é‡åœ¨ä¸åŒå½¢å¼ä¹‹é—´çš„è½¬æ¢è§„å¾‹ï¼Œ
                æŒæ¡èƒ½é‡å®ˆæ’åœ¨å·¥ç¨‹æŠ€æœ¯å’Œæ—¥å¸¸ç”Ÿæ´»ä¸­çš„é‡è¦åº”ç”¨
            </div>
        </div>

        <!-- åŸºæœ¬æ¦‚å¿µ -->
        <div class="content-section">
            <h2 class="section-title">
                <span class="section-number">1</span>
                èƒ½é‡çš„åŸºæœ¬æ¦‚å¿µ
            </h2>
            
            <div class="principle-box">
                <div class="principle-title">ä»€ä¹ˆæ˜¯èƒ½é‡ï¼Ÿ</div>
                <p style="font-size: 1.2em; line-height: 1.8;">
                    èƒ½é‡æ˜¯ç‰©ä½“åšåŠŸçš„èƒ½åŠ›ã€‚è™½ç„¶æˆ‘ä»¬æ— æ³•ç›´æ¥"çœ‹è§"èƒ½é‡ï¼Œä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡å®ƒçš„æ•ˆæœæ¥æ„Ÿå—å®ƒçš„å­˜åœ¨ã€‚
                    èƒ½é‡æœ‰å¤šç§ä¸åŒçš„å½¢å¼ï¼Œå®ƒä»¬å¯ä»¥ç›¸äº’è½¬æ¢ï¼Œä½†æ€»é‡ä¿æŒä¸å˜ã€‚
                </p>
            </div>

            <div class="note-box">
                <strong>ğŸ”‘ å…³é”®ç‰¹å¾ï¼š</strong>
                <ul style="margin-top: 10px; line-height: 2;">
                    <li><strong>æ ‡é‡æ€§ï¼š</strong>èƒ½é‡åªæœ‰å¤§å°ï¼Œæ²¡æœ‰æ–¹å‘</li>
                    <li><strong>ç›¸å¯¹æ€§ï¼š</strong>èƒ½é‡çš„æ•°å€¼ä¾èµ–äºå‚è€ƒç³»çš„é€‰æ‹©</li>
                    <li><strong>å¯åŠ æ€§ï¼š</strong>ç³»ç»Ÿæ€»èƒ½é‡ç­‰äºå„éƒ¨åˆ†èƒ½é‡ä¹‹å’Œ</li>
                    <li><strong>è½¬æ¢æ€§ï¼š</strong>èƒ½é‡å¯ä»¥åœ¨ä¸åŒå½¢å¼ä¹‹é—´ç›¸äº’è½¬æ¢</li>
                </ul>
            </div>

            <h3 style="color: #2c3e50; font-size: 1.8em; margin: 30px 0 20px;">ä¸»è¦èƒ½é‡å½¢å¼</h3>
            
            <div class="applications-section">
                <div class="application-card">
                    <div class="app-icon">ğŸƒâ€â™‚ï¸</div>
                    <div class="app-title">åŠ¨èƒ½ (Kinetic Energy)</div>
                    <div class="app-description">
                        ç‰©ä½“å› è¿åŠ¨è€Œå…·æœ‰çš„èƒ½é‡ã€‚é€Ÿåº¦è¶Šå¤§ï¼Œè´¨é‡è¶Šå¤§ï¼ŒåŠ¨èƒ½å°±è¶Šå¤§ã€‚
                        æ±½è½¦è¡Œé©¶ã€å­å¼¹é£è¡Œã€åˆ†å­çƒ­è¿åŠ¨éƒ½å…·æœ‰åŠ¨èƒ½ã€‚
                    </div>
                    <div class="app-formula">$E_k = \frac{1}{2}mv^2$</div>
                </div>

                <div class="application-card">
                    <div class="app-icon">â›°ï¸</div>
                    <div class="app-title">é‡åŠ›åŠ¿èƒ½ (Gravitational PE)</div>
                    <div class="app-description">
                        ç‰©ä½“å› åœ¨é‡åŠ›åœºä¸­çš„ä½ç½®è€Œå…·æœ‰çš„èƒ½é‡ã€‚é«˜åº¦è¶Šé«˜ï¼Œé‡åŠ›åŠ¿èƒ½è¶Šå¤§ã€‚
                        æ°´åº“ä¸­çš„æ°´ã€é«˜å¤„çš„çŸ³å¤´éƒ½å…·æœ‰é‡åŠ›åŠ¿èƒ½ã€‚
                    </div>
                    <div class="app-formula">$E_p = mgh$</div>
                </div>

                <div class="application-card">
                    <div class="app-icon">ğŸ”„</div>
                    <div class="app-title">å¼¹æ€§åŠ¿èƒ½ (Elastic PE)</div>
                    <div class="app-description">
                        ç‰©ä½“å› å‘ç”Ÿå¼¹æ€§å½¢å˜è€Œå…·æœ‰çš„èƒ½é‡ã€‚å¼¹ç°§è¢«å‹ç¼©æˆ–æ‹‰ä¼¸æ—¶ï¼Œ
                        æ©¡çš®ç­‹è¢«æ‹‰é•¿æ—¶ï¼Œéƒ½å‚¨å­˜äº†å¼¹æ€§åŠ¿èƒ½ã€‚
                    </div>
                    <div class="app-formula">$E_p = \frac{1}{2}kx^2$</div>
                </div>

                <div class="application-card">
                    <div class="app-icon">ğŸ”¥</div>
                    <div class="app-title">çƒ­èƒ½ (Thermal Energy)</div>
                    <div class="app-description">
                        ç‰©è´¨å†…éƒ¨åˆ†å­æ— è§„åˆ™è¿åŠ¨çš„èƒ½é‡æ€»å’Œã€‚æ¸©åº¦æ˜¯çƒ­èƒ½çš„å®è§‚è¡¨ç°ï¼Œ
                        æ¸©åº¦è¶Šé«˜ï¼Œåˆ†å­è¿åŠ¨è¶Šå‰§çƒˆï¼Œçƒ­èƒ½è¶Šå¤§ã€‚
                    </div>
                    <div class="app-formula">$Q = mc\Delta T$</div>
                </div>

                <div class="application-card">
                    <div class="app-icon">âš—ï¸</div>
                    <div class="app-title">åŒ–å­¦èƒ½ (Chemical Energy)</div>
                    <div class="app-description">
                        å‚¨å­˜åœ¨ç‰©è´¨åŒ–å­¦é”®ä¸­çš„èƒ½é‡ã€‚é£Ÿç‰©ã€ç‡ƒæ–™ã€ç”µæ± éƒ½å«æœ‰åŒ–å­¦èƒ½ã€‚
                        é€šè¿‡åŒ–å­¦ååº”å¯ä»¥é‡Šæ”¾æˆ–å¸æ”¶åŒ–å­¦èƒ½ã€‚
                    </div>
                    <div class="app-formula">ç‡ƒçƒ§ï¼š$C + O_2 \rightarrow CO_2 + \text{çƒ­èƒ½}$</div>
                </div>

                <div class="application-card">
                    <div class="app-icon">âš¡</div>
                    <div class="app-title">ç”µèƒ½ (Electrical Energy)</div>
                    <div class="app-description">
                        ç”µè·åœ¨ç”µåœºä¸­å…·æœ‰çš„èƒ½é‡ï¼Œæˆ–ç”µæµé€šè¿‡å¯¼ä½“æ—¶ä¼ é€’çš„èƒ½é‡ã€‚
                        ç”µèƒ½æ˜“äºä¼ è¾“å’Œæ§åˆ¶ï¼Œæ˜¯ç°ä»£ç”Ÿæ´»ä¸å¯ç¼ºå°‘çš„èƒ½é‡å½¢å¼ã€‚
                    </div>
                    <div class="app-formula">$W = UIt = \frac{U^2t}{R}$</div>
                </div>
            </div>
        </div>

        <!-- èƒ½é‡å®ˆæ’å®šå¾‹ -->
        <div class="content-section">
            <h2 class="section-title">
                <span class="section-number">2</span>
                èƒ½é‡å®ˆæ’å®šå¾‹
            </h2>

            <div class="principle-box">
                <div class="principle-title">å®šå¾‹è¡¨è¿°</div>
                <div style="text-align: center; font-size: 1.3em; margin: 25px 0; line-height: 1.8;">
                    <strong>"åœ¨ä¸€ä¸ªå­¤ç«‹ç³»ç»Ÿä¸­ï¼Œèƒ½é‡æ—¢ä¸èƒ½è¢«åˆ›é€ ï¼Œä¹Ÿä¸èƒ½è¢«æ¶ˆç­ï¼Œ
                    åªèƒ½ä»ä¸€ç§å½¢å¼è½¬æ¢ä¸ºå¦ä¸€ç§å½¢å¼ï¼Œè€Œç³»ç»Ÿçš„æ€»èƒ½é‡ä¿æŒä¸å˜ã€‚"</strong>
                </div>
                <div class="formula-highlight">
                    $$E_{æ€»} = E_{åŠ¨} + E_{åŠ¿} + E_{çƒ­} + E_{åŒ–å­¦} + E_{ç”µ} + \cdots = \text{å¸¸æ•°}$$
                </div>
            </div>

            <div class="derivation-box">
                <div class="derivation-title">ğŸ” æ•°å­¦æ¨å¯¼ï¼šä»åŠŸèƒ½å…³ç³»åˆ°èƒ½é‡å®ˆæ’</div>
                
                <div class="step-box">
                    <div class="step-title">ç¬¬ä¸€æ­¥ï¼šåŠŸçš„å®šä¹‰</div>
                    <p>å½“åŠ› $\vec{F}$ ä½¿ç‰©ä½“å‘ç”Ÿä½ç§» $\vec{s}$ æ—¶ï¼ŒåŠ›å¯¹ç‰©ä½“æ‰€åšçš„åŠŸä¸ºï¼š</p>
                    <div class="formula-highlight">$$W = \vec{F} \cdot \vec{s} = Fs\cos\theta$$</div>
                    <p>å…¶ä¸­ $\theta$ æ˜¯åŠ›ä¸ä½ç§»æ–¹å‘çš„å¤¹è§’ã€‚</p>
                </div>

                <div class="step-box">
                    <div class="step-title">ç¬¬äºŒæ­¥ï¼šåŠ¨èƒ½å®šç†</div>
                    <p>æ ¹æ®ç‰›é¡¿ç¬¬äºŒå®šå¾‹ $F = ma$ å’Œè¿åŠ¨å­¦å…³ç³»ï¼Œå¯ä»¥æ¨å¯¼å‡ºï¼š</p>
                    <div class="formula-highlight">$$W_{åˆ} = \Delta E_k = \frac{1}{2}mv_2^2 - \frac{1}{2}mv_1^2$$</div>
                    <p>å³ï¼šåˆå¤–åŠ›åšåŠŸç­‰äºç‰©ä½“åŠ¨èƒ½çš„å˜åŒ–ã€‚</p>
                </div>

                <div class="step-box">
                    <div class="step-title">ç¬¬ä¸‰æ­¥ï¼šä¿å®ˆåŠ›ä¸åŠ¿èƒ½</div>
                    <p>å¯¹äºä¿å®ˆåŠ›ï¼ˆå¦‚é‡åŠ›ã€å¼¹åŠ›ï¼‰ï¼ŒåŠ›åšåŠŸåªä¸èµ·ç‚¹å’Œç»ˆç‚¹ä½ç½®æœ‰å…³ï¼Œä¸è·¯å¾„æ— å…³ã€‚
                    æˆ‘ä»¬å¯ä»¥å®šä¹‰åŠ¿èƒ½å‡½æ•°ï¼š</p>
                    <div class="formula-highlight">$$W_{ä¿å®ˆåŠ›} = -\Delta E_p = E_{p1} - E_{p2}$$</div>
                </div>

                <div class="step-box">
                    <div class="step-title">ç¬¬å››æ­¥ï¼šæœºæ¢°èƒ½å®ˆæ’</div>
                    <p>å½“åªæœ‰ä¿å®ˆåŠ›åšåŠŸæ—¶ï¼Œç”±åŠ¨èƒ½å®šç†ï¼š</p>
                    $$W_{ä¿å®ˆåŠ›} = \Delta E_k$$
                    $$E_{p1} - E_{p2} = E_{k2} - E_{k1}$$
                    <p>æ•´ç†å¾—åˆ°ï¼š</p>
                    <div class="formula-highlight">$$E_{k1} + E_{p1} = E_{k2} + E_{p2} = E_{æœºæ¢°} = \text{å¸¸æ•°}$$</div>
                </div>

                <div class="step-box">
                    <div class="step-title">ç¬¬äº”æ­¥ï¼šæ™®éçš„èƒ½é‡å®ˆæ’</div>
                    <p>å½“è€ƒè™‘æ‘©æ“¦ã€çƒ­ä¼ å¯¼ç­‰éä¿å®ˆè¿‡ç¨‹æ—¶ï¼Œæœºæ¢°èƒ½å¯èƒ½å‡å°‘ï¼Œä½†è¿™äº›"æ¶ˆå¤±"çš„æœºæ¢°èƒ½
                    è½¬åŒ–ä¸ºçƒ­èƒ½ã€å£°èƒ½ç­‰å…¶ä»–å½¢å¼ã€‚åŒ…æ‹¬æ‰€æœ‰å½¢å¼èƒ½é‡åœ¨å†…çš„æ€»èƒ½é‡ä»ç„¶å®ˆæ’ã€‚</p>
                </div>
            </div>

            <div class="concept-box">
                <h3>ğŸ’¡ æ·±åº¦ç†è§£</h3>
                <p><strong>ä¸ºä»€ä¹ˆèƒ½é‡å®ˆæ’å¦‚æ­¤é‡è¦ï¼Ÿ</strong></p>
                <ul style="line-height: 2; margin-top: 15px;">
                    <li><strong>æ™®éæ€§ï¼š</strong>é€‚ç”¨äºå®è§‚ä¸–ç•Œå’Œå¾®è§‚ä¸–ç•Œçš„æ‰€æœ‰ç‰©ç†è¿‡ç¨‹</li>
                    <li><strong>å®ç”¨æ€§ï¼š</strong>å·¥ç¨‹è®¾è®¡ã€èƒ½æºåˆ©ç”¨çš„ç†è®ºåŸºç¡€</li>
                    <li><strong>é¢„æµ‹æ€§ï¼š</strong>å¯ä»¥é¢„æµ‹ç³»ç»Ÿçš„è¡Œä¸ºå’Œæ¼”åŒ–</li>
                    <li><strong>é™åˆ¶æ€§ï¼š</strong>å‘Šè¯‰æˆ‘ä»¬ä»€ä¹ˆæ˜¯å¯èƒ½çš„ï¼Œä»€ä¹ˆæ˜¯ä¸å¯èƒ½çš„</li>
                </ul>
            </div>
        </div>

        <!-- äº¤äº’æ¼”ç¤º1ï¼šå•æ‘† -->
        <div class="content-section">
            <h2 class="section-title">
                <span class="section-number">3</span>
                æ¼”ç¤ºä¸€ï¼šå•æ‘†çš„èƒ½é‡è½¬æ¢
            </h2>

            <div class="simulation-container">
                <div class="simulation-title">ğŸ”„ è§‚å¯ŸåŠ¨èƒ½ä¸åŠ¿èƒ½çš„å®Œç¾åˆ‡æ¢</div>
                
                <div class="demo-container">
                    <canvas id="pendulum-canvas" width="500" height="400"></canvas>
                </div>

                <div class="controls-panel">
                    <div class="control-grid">
                        <div class="control-item">
                            <label class="control-label">æ‘†é•¿ $L$ (m)</label>
                            <input type="range" id="pendulum-length" min="0.5" max="2.5" step="0.1" value="1.5">
                            <span class="control-value" id="pendulum-length-value">1.5</span>
                        </div>
                        <div class="control-item">
                            <label class="control-label">åˆå§‹è§’åº¦ $\theta_0$ (Â°)</label>
                            <input type="range" id="pendulum-angle" min="10" max="60" step="2" value="30">
                            <span class="control-value" id="pendulum-angle-value">30</span>
                        </div>
                        <div class="control-item">
                            <label class="control-label">æ‘†çƒè´¨é‡ $m$ (kg)</label>
                            <input type="range" id="pendulum-mass" min="0.5" max="3" step="0.1" value="1">
                            <span class="control-value" id="pendulum-mass-value">1.0</span>
                        </div>
                        <div class="control-item">
                            <label class="control-label">é˜»å°¼ç³»æ•°</label>
                            <input type="range" id="pendulum-damping" min="0" max="0.05" step="0.005" value="0.01">
                            <span class="control-value" id="pendulum-damping-value">0.01</span>
                        </div>
                    </div>

                    <div style="text-align: center; margin-top: 25px;">
                        <button class="btn" onclick="startPendulum()">â–¶ï¸ å¼€å§‹æ‘†åŠ¨</button>
                        <button class="btn secondary" onclick="pausePendulum()">â¸ï¸ æš‚åœ</button>
                        <button class="btn reset" onclick="resetPendulum()">ğŸ”„ é‡ç½®</button>
                    </div>
                </div>

                <div class="energy-dashboard">
                    <div class="energy-meter">
                        <div class="meter-title">åŠ¨èƒ½ $E_k$</div>
                        <div class="meter-value" id="pendulum-kinetic">0.00 <span class="meter-unit">J</span></div>
                        <div class="energy-bar">
                            <div class="energy-fill" id="pendulum-kinetic-bar" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="energy-meter">
                        <div class="meter-title">åŠ¿èƒ½ $E_p$</div>
                        <div class="meter-value" id="pendulum-potential">0.00 <span class="meter-unit">J</span></div>
                        <div class="energy-bar">
                            <div class="energy-fill" id="pendulum-potential-bar" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="energy-meter">
                        <div class="meter-title">æœºæ¢°èƒ½ $E_{æœº}$</div>
                        <div class="meter-value" id="pendulum-mechanical">0.00 <span class="meter-unit">J</span></div>
                        <div class="energy-bar">
                            <div class="energy-fill" id="pendulum-mechanical-bar" style="width: 100%"></div>
                        </div>
                    </div>
                    <div class="energy-meter">
                        <div class="meter-title">æŸå¤±èƒ½é‡</div>
                        <div class="meter-value" id="pendulum-lost">0.00 <span class="meter-unit">J</span></div>
                        <div class="energy-bar">
                            <div class="energy-fill" id="pendulum-lost-bar" style="width: 0%; background: #e74c3c;"></div>
                        </div>
                    </div>
                </div>

                <div class="physics-explanation">
                    <div class="physics-title">ç‰©ç†åˆ†æ</div>
                    <div class="equation-display">
                        <p><strong>ç†æƒ³å•æ‘†çš„èƒ½é‡å…³ç³»ï¼š</strong></p>
                        $$E_k = \frac{1}{2}mv^2 = \frac{1}{2}mL^2\dot{\theta}^2$$
                        $$E_p = mgh = mgL(1 - \cos\theta)$$
                        $$E_{æœº} = E_k + E_p = \text{å¸¸æ•°ï¼ˆæ— é˜»å°¼æ—¶ï¼‰}$$
                    </div>
                    <p style="line-height: 1.8; margin-top: 20px;">
                        <strong>è§‚å¯Ÿè¦ç‚¹ï¼š</strong>åœ¨æœ€é«˜ç‚¹ï¼Œæ‘†çƒé€Ÿåº¦ä¸ºé›¶ï¼ŒåŠ¨èƒ½ä¸ºé›¶ï¼ŒåŠ¿èƒ½æœ€å¤§ï¼›
                        åœ¨æœ€ä½ç‚¹ï¼ŒåŠ¿èƒ½æœ€å°ï¼ŒåŠ¨èƒ½æœ€å¤§ã€‚æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼ŒåŠ¨èƒ½å’ŒåŠ¿èƒ½ç›¸äº’è½¬æ¢ï¼Œ
                        ä½†æ€»çš„æœºæ¢°èƒ½ä¿æŒä¸å˜ï¼ˆå¿½ç•¥é˜»å°¼æ—¶ï¼‰ã€‚
                    </p>
                </div>
            </div>
        </div>

        <!-- äº¤äº’æ¼”ç¤º2ï¼šå¼¹æ€§ç¢°æ’ -->
        <div class="content-section">
            <h2 class="section-title">
                <span class="section-number">4</span>
                æ¼”ç¤ºäºŒï¼šå¼¹æ€§ç¢°æ’ä¸­çš„èƒ½é‡å®ˆæ’
            </h2>

            <div class="simulation-container">
                <div class="simulation-title">âš½ æ¢ç´¢ç¢°æ’è¿‡ç¨‹ä¸­çš„åŠ¨é‡ä¸èƒ½é‡å®ˆæ’</div>
                
                <div class="demo-container">
                    <canvas id="collision-canvas" width="600" height="350"></canvas>
                </div>

                <div class="controls-panel">
                    <div class="control-grid">
                        <div class="control-item">
                            <label class="control-label">çƒ1è´¨é‡ $m_1$ (kg)</label>
                            <input type="range" id="ball1-mass" min="0.5" max="4" step="0.1" value="2">
                            <span class="control-value" id="ball1-mass-value">2.0</span>
                        </div>
                        <div class="control-item">
                            <label class="control-label">çƒ2è´¨é‡ $m_2$ (kg)</label>
                            <input type="range" id="ball2-mass" min="0.5" max="4" step="0.1" value="1">
                            <span class="control-value" id="ball2-mass-value">1.0</span>
                        </div>
                        <div class="control-item">
                            <label class="control-label">çƒ1åˆé€Ÿåº¦ $v_1$ (m/s)</label>
                            <input type="range" id="ball1-velocity" min="1" max="10" step="0.5" value="5">
                            <span class="control-value" id="ball1-velocity-value">5.0</span>
                        </div>
                        <div class="control-item">
                            <label class="control-label">æ¢å¤ç³»æ•° $e$</label>
                            <input type="range" id="restitution" min="0.1" max="1" step="0.05" value="0.9">
                            <span class="control-value" id="restitution-value">0.90</span>
                        </div>
                    </div>

                    <div style="text-align: center; margin-top: 25px;">
                        <button class="btn" onclick="startCollision()">ğŸš€ å¼€å§‹ç¢°æ’</button>
                        <button class="btn reset" onclick="resetCollision()">ğŸ”„ é‡ç½®</button>
                        <button class="btn secondary" onclick="setElastic()">å®Œå…¨å¼¹æ€§</button>
                        <button class="btn secondary" onclick="setInelastic()">å®Œå…¨éå¼¹æ€§</button>
                    </div>
                </div>

                <div class="energy-dashboard">
                    <div class="energy-meter">
                        <div class="meter-title">ç¢°æ’å‰åŠ¨èƒ½</div>
                        <div class="meter-value" id="collision-kinetic-before">0.00 <span class="meter-unit">J</span></div>
                        <div class="energy-bar">
                            <div class="energy-fill" id="collision-kinetic-before-bar" style="width: 100%"></div>
                        </div>
                    </div>
                    <div class="energy-meter">
                        <div class="meter-title">ç¢°æ’ååŠ¨èƒ½</div>
                        <div class="meter-value" id="collision-kinetic-after">0.00 <span class="meter-unit">J</span></div>
                        <div class="energy-bar">
                            <div class="energy-fill" id="collision-kinetic-after-bar" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="energy-meter">
                        <div class="meter-title">ç¢°æ’å‰åŠ¨é‡</div>
                        <div class="meter-value" id="collision-momentum-before">0.00 <span class="meter-unit">kgÂ·m/s</span></div>
                        <div class="energy-bar">
                            <div class="energy-fill" id="collision-momentum-before-bar" style="width: 100%"></div>
                        </div>
                    </div>
                    <div class="energy-meter">
                        <div class="meter-title">ç¢°æ’ååŠ¨é‡</div>
                        <div class="meter-value" id="collision-momentum-after">0.00 <span class="meter-unit">kgÂ·m/s</span></div>
                        <div class="energy-bar">
                            <div class="energy-fill" id="collision-momentum-after-bar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>

                <div class="physics-explanation">
                    <div class="physics-title">ç¢°æ’ç†è®ºåˆ†æ</div>
                    <div class="equation-display">
                        <p><strong>åŠ¨é‡å®ˆæ’ï¼š</strong></p>
                        $$m_1 v_{1i} + m_2 v_{2i} = m_1 v_{1f} + m_2 v_{2f}$$
                        <br>
                        <p><strong>å¼¹æ€§ç¢°æ’æ—¶èƒ½é‡ä¹Ÿå®ˆæ’ï¼š</strong></p>
                        $$\frac{1}{2}m_1 v_{1i}^2 + \frac{1}{2}m_2 v_{2i}^2 = \frac{1}{2}m_1 v_{1f}^2 + \frac{1}{2}m_2 v_{2f}^2$$
                    </div>
                    <p style="line-height: 1.8; margin-top: 20px;">
                        <strong>é‡è¦å‘ç°ï¼š</strong>åŠ¨é‡åœ¨ä»»ä½•ç¢°æ’ä¸­éƒ½å®ˆæ’ï¼Œä½†åŠ¨èƒ½åªåœ¨å®Œå…¨å¼¹æ€§ç¢°æ’ä¸­å®ˆæ’ã€‚
                        æ¢å¤ç³»æ•° $e$ åæ˜ äº†ç¢°æ’çš„å¼¹æ€§ç¨‹åº¦ï¼š$e = 1$ å®Œå…¨å¼¹æ€§ï¼Œ$e = 0$ å®Œå…¨éå¼¹æ€§ã€‚
                    </p>
                </div>
            </div>
        </div>

        <!-- å®é™…åº”ç”¨ -->
        <div class="content-section">
            <h2 class="section-title">
                <span class="section-number">5</span>
                èƒ½é‡å®ˆæ’åœ¨ç°å®ä¸­çš„åº”ç”¨
            </h2>

            <div class="applications-section">
                <div class="application-card">
                    <div class="app-icon">ğŸš—</div>
                    <div class="app-title">æ±½è½¦åˆ¶åŠ¨ç³»ç»Ÿ</div>
                    <div class="app-description">
                        æ±½è½¦åˆ¹è½¦æ—¶ï¼Œè½¦è¾†çš„åŠ¨èƒ½é€šè¿‡æ‘©æ“¦è½¬åŒ–ä¸ºçƒ­èƒ½æ•£å‘åˆ°ç¯å¢ƒä¸­ã€‚
                        åˆ¶åŠ¨è·ç¦»çš„è®¡ç®—å°±åŸºäºèƒ½é‡å®ˆæ’å®šå¾‹ã€‚ç°ä»£æ··åˆåŠ¨åŠ›æ±½è½¦è¿˜èƒ½
                        å°†éƒ¨åˆ†åŠ¨èƒ½å›æ”¶è½¬åŒ–ä¸ºç”µèƒ½å‚¨å­˜èµ·æ¥ã€‚
                    </div>
                    <div class="app-formula">$\frac{1}{2}mv^2 = \mu mg s$ ï¼ˆåˆ¶åŠ¨è·ç¦»å…¬å¼ï¼‰</div>
                </div>

                <div class="application-card">
                    <div class="app-icon">ğŸ’§</div>
                    <div class="app-title">æ°´åŠ›å‘ç”µ</div>
                    <div class="app-description">
                        æ°´åº“ä¸­é«˜å¤„çš„æ°´å…·æœ‰é‡åŠ›åŠ¿èƒ½ï¼Œæµå‘ä½å¤„æ—¶è½¬åŒ–ä¸ºåŠ¨èƒ½ï¼Œ
                        æ¨åŠ¨æ°´è½®æœºæ—‹è½¬ï¼Œè¿›è€Œå¸¦åŠ¨å‘ç”µæœºå°†æœºæ¢°èƒ½è½¬åŒ–ä¸ºç”µèƒ½ã€‚
                        æ•´ä¸ªè¿‡ç¨‹éµå¾ªèƒ½é‡å®ˆæ’ï¼Œä½†æœ‰ä¸€å®šçš„æ•ˆç‡æŸå¤±ã€‚
                    </div>
                    <div class="app-formula">$P = \eta \rho g Q H$ ï¼ˆæ°´åŠ›å‘ç”µåŠŸç‡ï¼‰</div>
                </div>

                <div class="application-card">
                    <div class="app-icon">ğŸ¢</div>
                    <div class="app-title">è¿‡å±±è½¦è®¾è®¡</div>
                    <div class="app-description">
                        è¿‡å±±è½¦çš„è®¾è®¡å®Œå…¨åŸºäºèƒ½é‡å®ˆæ’ã€‚èµ·å§‹ç‚¹çš„é«˜åº¦å†³å®šäº†æ•´æ¡
                        è½¨é“çš„æœ€å¤§åŠ¿èƒ½ï¼Œåç»­çš„æ¯ä¸ªå¡åº¦éƒ½ä¸èƒ½è¶…è¿‡è¿™ä¸ªé«˜åº¦
                        ï¼ˆè€ƒè™‘æ‘©æ“¦æŸå¤±ï¼‰ï¼Œè¿™ç¡®ä¿äº†è¿‡å±±è½¦èƒ½å¤Ÿå®Œæˆæ•´ä¸ªè¡Œç¨‹ã€‚
                    </div>
                    <div class="app-formula">$mgh_0 = mgh + \frac{1}{2}mv^2 + Q_{æ‘©æ“¦}$</div>
                </div>

                <div class="application-card">
                    <div class="app-icon">ğŸ”‹</div>
                    <div class="app-title">ç”µæ± å‚¨èƒ½æŠ€æœ¯</div>
                    <div class="app-description">
                        ç”µæ± é€šè¿‡åŒ–å­¦ååº”å°†åŒ–å­¦èƒ½è½¬åŒ–ä¸ºç”µèƒ½ã€‚å……ç”µæ—¶ç”µèƒ½è½¬åŒ–ä¸º
                        åŒ–å­¦èƒ½å‚¨å­˜ï¼Œæ”¾ç”µæ—¶åŒ–å­¦èƒ½åˆè½¬åŒ–ä¸ºç”µèƒ½ã€‚èƒ½é‡è½¬æ¢æ•ˆç‡
                        æ˜¯è¯„ä»·ç”µæ± æ€§èƒ½çš„é‡è¦æŒ‡æ ‡ã€‚
                    </div>
                    <div class="app-formula">$\eta = \frac{W_{è¾“å‡º}}{W_{è¾“å…¥}} \times 100\%$</div>
                </div>

                <div class="application-card">
                    <div class="app-icon">ğŸ </div>
                    <div class="app-title">å»ºç­‘èŠ‚èƒ½è®¾è®¡</div>
                    <div class="app-description">
                        å»ºç­‘ç‰©çš„ä¿æ¸©è®¾è®¡åŸºäºçƒ­èƒ½ä¼ é€’å’Œå®ˆæ’ã€‚é€šè¿‡åˆç†çš„ä¿æ¸©ææ–™
                        å’Œç»“æ„è®¾è®¡ï¼Œå‡å°‘çƒ­èƒ½æŸå¤±ï¼Œæé«˜èƒ½æºåˆ©ç”¨æ•ˆç‡ã€‚
                        å¤ªé˜³èƒ½å»ºç­‘å°†å¤ªé˜³çš„è¾å°„èƒ½è½¬åŒ–ä¸ºçƒ­èƒ½å’Œç”µèƒ½ã€‚
                    </div>
                    <div class="app-formula">$Q = \frac{k A \Delta T t}{d}$ ï¼ˆçƒ­ä¼ å¯¼å…¬å¼ï¼‰</div>
                </div>

                <div class="application-card">
                    <div class="app-icon">ğŸš€</div>
                    <div class="app-title">èˆªå¤©å™¨è½¨é“è®¾è®¡</div>
                    <div class="app-description">
                        èˆªå¤©å™¨åœ¨è½¨é“ä¸Šè¿è¡Œæ—¶ï¼ŒåŠ¨èƒ½å’ŒåŠ¿èƒ½ä¸æ–­ç›¸äº’è½¬æ¢ã€‚
                        åœ¨è¿‘åœ°ç‚¹é€Ÿåº¦æœ€å¤§ï¼ˆåŠ¨èƒ½æœ€å¤§ï¼‰ï¼Œåœ¨è¿œåœ°ç‚¹é€Ÿåº¦æœ€å°ï¼ˆåŠ¿èƒ½æœ€å¤§ï¼‰ã€‚
                        è½¨é“æœºåŠ¨å’Œå˜è½¨éƒ½è¦ç²¾ç¡®è®¡ç®—èƒ½é‡éœ€æ±‚ã€‚
                    </div>
                    <div class="app-formula">$E = -\frac{GMm}{2a}$ ï¼ˆè½¨é“æ€»èƒ½é‡ï¼‰</div>
                </div>
            </div>
        </div>

        <!-- æ™ºèƒ½æµ‹éªŒ -->
        <div class="quiz-section">
            <h2 class="quiz-title">ğŸ§  ç»¼åˆç†è§£æµ‹éªŒ</h2>
            <p style="text-align: center; font-size: 1.2em; margin-bottom: 40px; opacity: 0.9;">
                æµ‹è¯•ä½ å¯¹èƒ½é‡å®ˆæ’å®šå¾‹çš„æŒæ¡ç¨‹åº¦ï¼ŒåŒ…æ‹¬æ¦‚å¿µç†è§£å’Œå®é™…åº”ç”¨
            </p>

            <div class="progress-bar" id="quiz-progress"></div>

            <div id="quiz-container"></div>

            <div class="quiz-navigation">
                <button class="btn secondary" id="prev-question" onclick="previousQuestion()" style="display: none;">â¬…ï¸ ä¸Šä¸€é¢˜</button>
                <button class="btn" id="next-question" onclick="nextQuestion()" style="display: none;">ä¸‹ä¸€é¢˜ â¡ï¸</button>
            </div>

            <div class="quiz-results" id="quiz-results">
                <h3>ğŸ‰ æµ‹éªŒå®Œæˆï¼</h3>
                <div class="score-display" id="final-score-display"></div>
                <div class="performance-feedback" id="performance-feedback"></div>
                <button class="btn" onclick="restartQuiz()">ğŸ”„ é‡æ–°å¼€å§‹</button>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let pendulumAnimation, collisionAnimation;
        let currentQuestionIndex = 0;
        let quizScore = 0;
        let userAnswers = [];

        // æµ‹éªŒé¢˜ç›®
        const quizQuestions = [
            {
                question: "ä¸€ä¸ªè´¨é‡ä¸º2kgçš„ç‰©ä½“ä»10mé«˜å¤„è‡ªç”±è½ä¸‹ï¼Œå¿½ç•¥ç©ºæ°”é˜»åŠ›ï¼Œè½åœ°æ—¶çš„é€Ÿåº¦å¤§å°æ˜¯å¤šå°‘ï¼Ÿï¼ˆg=10m/sÂ²ï¼‰",
                image: "ç‰©ä½“è‡ªç”±è½ä¸‹ç¤ºæ„å›¾",
                options: [
                    "10 m/s",
                    "14.1 m/s", 
                    "20 m/s",
                    "100 m/s"
                ],
                correct: 1,
                explanation: "æ ¹æ®èƒ½é‡å®ˆæ’å®šå¾‹ï¼š$mgh = \\frac{1}{2}mv^2$ï¼Œè§£å¾— $v = \\sqrt{2gh} = \\sqrt{2 \\times 10 \\times 10} = 14.1$ m/sã€‚æ³¨æ„è¿™é‡Œä¸éœ€è¦çŸ¥é“ç‰©ä½“çš„è´¨é‡ã€‚"
            },
            {
                question: "åœ¨å•æ‘†è¿åŠ¨ä¸­ï¼Œå½“æ‘†çƒé€šè¿‡æœ€ä½ç‚¹æ—¶ï¼Œä¸‹åˆ—è¯´æ³•æ­£ç¡®çš„æ˜¯ï¼š",
                options: [
                    "åŠ¨èƒ½æœ€å°ï¼ŒåŠ¿èƒ½æœ€å¤§",
                    "åŠ¨èƒ½æœ€å¤§ï¼ŒåŠ¿èƒ½æœ€å°",
                    "åŠ¨èƒ½å’ŒåŠ¿èƒ½éƒ½æœ€å¤§",
                    "åŠ¨èƒ½å’ŒåŠ¿èƒ½éƒ½æœ€å°"
                ],
                correct: 1,
                explanation: "åœ¨æœ€ä½ç‚¹ï¼Œæ‘†çƒçš„é«˜åº¦æœ€å°ï¼ˆåŠ¿èƒ½æœ€å°ï¼‰ï¼Œé€Ÿåº¦æœ€å¤§ï¼ˆåŠ¨èƒ½æœ€å¤§ï¼‰ã€‚è¿™æ˜¯åŠ¿èƒ½å‘åŠ¨èƒ½è½¬æ¢çš„ç»“æœã€‚"
            },
            {
                question: "ä¸¤ä¸ªè´¨é‡åˆ†åˆ«ä¸º2kgå’Œ3kgçš„ç‰©ä½“å‘ç”Ÿå®Œå…¨å¼¹æ€§ç¢°æ’ï¼Œç¢°æ’å‰2kgç‰©ä½“ä»¥4m/sçš„é€Ÿåº¦è¿åŠ¨ï¼Œ3kgç‰©ä½“é™æ­¢ã€‚ç¢°æ’å2kgç‰©ä½“çš„é€Ÿåº¦æ˜¯ï¼š",
                options: [
                    "-0.8 m/s",
                    "0.8 m/s",
                    "1.6 m/s", 
                    "2.4 m/s"
                ],
                correct: 0,
                explanation: "å®Œå…¨å¼¹æ€§ç¢°æ’åŒæ—¶æ»¡è¶³åŠ¨é‡å®ˆæ’å’Œèƒ½é‡å®ˆæ’ã€‚ä½¿ç”¨å…¬å¼ï¼š$v_1' = \\frac{(m_1-m_2)v_1}{m_1+m_2} = \\frac{(2-3) \\times 4}{2+3} = -0.8$ m/sã€‚è´Ÿå·è¡¨ç¤ºæ–¹å‘ä¸åˆå§‹æ–¹å‘ç›¸åã€‚"
            },
            {
                question: "å…³äºèƒ½é‡å®ˆæ’å®šå¾‹ï¼Œä¸‹åˆ—ç†è§£æ­£ç¡®çš„æ˜¯ï¼š",
                options: [
                    "èƒ½é‡å®ˆæ’åªé€‚ç”¨äºæœºæ¢°è¿åŠ¨",
                    "åœ¨æœ‰æ‘©æ“¦çš„è¿‡ç¨‹ä¸­ï¼Œæœºæ¢°èƒ½ä¸å®ˆæ’ï¼Œä½†æ€»èƒ½é‡ä»ç„¶å®ˆæ’",
                    "èƒ½é‡å¯ä»¥è¢«åˆ›é€ ï¼Œä½†ä¸èƒ½è¢«æ¶ˆç­",
                    "èƒ½é‡å®ˆæ’å®šå¾‹åªåœ¨ç†æƒ³æƒ…å†µä¸‹æˆç«‹"
                ],
                correct: 1,
                explanation: "èƒ½é‡å®ˆæ’å®šå¾‹æ˜¯è‡ªç„¶ç•Œçš„æ™®éè§„å¾‹ã€‚è™½ç„¶æ‘©æ“¦ä¼šä½¿æœºæ¢°èƒ½è½¬åŒ–ä¸ºçƒ­èƒ½ï¼Œä½†åŒ…æ‹¬çƒ­èƒ½åœ¨å†…çš„æ€»èƒ½é‡ä»ç„¶å®ˆæ’ã€‚èƒ½é‡æ—¢ä¸èƒ½è¢«åˆ›é€ ä¹Ÿä¸èƒ½è¢«æ¶ˆç­ï¼Œåªèƒ½è½¬æ¢å½¢å¼ã€‚"
            },
            {
                question: "ä¸€è¾†æ±½è½¦ä»¥20m/sçš„é€Ÿåº¦è¡Œé©¶ï¼Œè´¨é‡ä¸º1000kgã€‚å¦‚æœè¦åœ¨50mçš„è·ç¦»å†…åœä¸‹ï¼Œåˆ¶åŠ¨åŠ›è‡³å°‘åº”è¯¥æ˜¯å¤šå°‘ï¼Ÿ",
                options: [
                    "2000 N",
                    "4000 N",
                    "6000 N",
                    "8000 N"
                ],
                correct: 1,
                explanation: "æ ¹æ®åŠ¨èƒ½å®šç†ï¼š$F \\cdot s = \\frac{1}{2}mv^2$ï¼Œè§£å¾— $F = \\frac{mv^2}{2s} = \\frac{1000 \\times 20^2}{2 \\times 50} = 4000$ Nã€‚"
            },
            {
                question: "æ°´åŠ›å‘ç”µä¸­ï¼Œæ°´ä»100mé«˜å¤„æµä¸‹ï¼Œæ¯ç§’æµé‡ä¸º10mÂ³ï¼Œæ°´çš„å¯†åº¦ä¸º1000kg/mÂ³ï¼Œé‡åŠ›åŠ é€Ÿåº¦g=10m/sÂ²ï¼Œç†è®ºä¸Šçš„å‘ç”µåŠŸç‡æ˜¯ï¼š",
                options: [
                    "1 MW",
                    "5 MW", 
                    "10 MW",
                    "100 MW"
                ],
                correct: 2,
                explanation: "åŠŸç‡ $P = \\frac{mgh}{t} = \\rho V g h = 1000 \\times 10 \\times 10 \\times 100 = 10^7$ W = 10 MWã€‚è¿™æ˜¯ç†è®ºåŠŸç‡ï¼Œå®é™…åŠŸç‡ä¼šå› æ•ˆç‡è€Œé™ä½ã€‚"
            }
        ];

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializePendulum();
            initializeCollision();
            initializeQuiz();
            setupControlListeners();
        });

        // è®¾ç½®æ§åˆ¶å™¨ç›‘å¬
        function setupControlListeners() {
            // å•æ‘†æ§åˆ¶å™¨
            const pendulumControls = ['pendulum-length', 'pendulum-angle', 'pendulum-mass', 'pendulum-damping'];
            pendulumControls.forEach(id => {
                const slider = document.getElementById(id);
                const valueSpan = document.getElementById(id + '-value');
                slider.addEventListener('input', function() {
                    valueSpan.textContent = parseFloat(this.value).toFixed(2);
                });
            });

            // ç¢°æ’æ§åˆ¶å™¨
            const collisionControls = ['ball1-mass', 'ball2-mass', 'ball1-velocity', 'restitution'];
            collisionControls.forEach(id => {
                const slider = document.getElementById(id);
                const valueSpan = document.getElementById(id + '-value');
                slider.addEventListener('input', function() {
                    valueSpan.textContent = parseFloat(this.value).toFixed(2);
                    if (!document.getElementById('collision-canvas').dataset.animating) {
                        updateCollisionDisplay();
                    }
                });
            });
        }

        // å•æ‘†ä»¿çœŸ
        function initializePendulum() {
            const canvas = document.getElementById('pendulum-canvas');
            const ctx = canvas.getContext('2d');
            
            let pendulum = {
                angle: Math.PI/6,
                angleVel: 0,
                angleAcc: 0,
                length: 150,
                origin: { x: canvas.width/2, y: 50 },
                mass: 1,
                gravity: 9.8,
                damping: 0.999,
                isRunning: false,
                initialEnergy: 0
            };

            function updatePendulum() {
                if (!pendulum.isRunning) return;

                const length = parseFloat(document.getElementById('pendulum-length').value);
                const mass = parseFloat(document.getElementById('pendulum-mass').value);
                const damping = 1 - parseFloat(document.getElementById('pendulum-damping').value);

                pendulum.length = length * 100;
                pendulum.mass = mass;
                pendulum.damping = damping;

                pendulum.angleAcc = -(pendulum.gravity / (pendulum.length / 100)) * Math.sin(pendulum.angle);
                pendulum.angleVel += pendulum.angleAcc * 0.016;
                pendulum.angleVel *= pendulum.damping;
                pendulum.angle += pendulum.angleVel * 0.016;

                // è®¡ç®—èƒ½é‡
                const height = pendulum.length * (1 - Math.cos(pendulum.angle)) / 100;
                const velocity = Math.abs(pendulum.angleVel * pendulum.length / 100);
                
                const potentialEnergy = pendulum.mass * pendulum.gravity * height;
                const kineticEnergy = 0.5 * pendulum.mass * velocity * velocity;
                const mechanicalEnergy = potentialEnergy + kineticEnergy;
                const lostEnergy = pendulum.initialEnergy - mechanicalEnergy;

                updatePendulumDisplay(kineticEnergy, potentialEnergy, mechanicalEnergy, lostEnergy);
            }

            function drawPendulum() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // ç»˜åˆ¶æ‚¬æŒ‚ç‚¹
                ctx.fillStyle = '#2c3e50';
                ctx.beginPath();
                ctx.arc(pendulum.origin.x, pendulum.origin.y, 8, 0, 2*Math.PI);
                ctx.fill();

                // è®¡ç®—æ‘†çƒä½ç½®
                const ballX = pendulum.origin.x + pendulum.length * Math.sin(pendulum.angle);
                const ballY = pendulum.origin.y + pendulum.length * Math.cos(pendulum.angle);

                // ç»˜åˆ¶æ‘†çº¿
                ctx.strokeStyle = '#34495e';
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.moveTo(pendulum.origin.x, pendulum.origin.y);
                ctx.lineTo(ballX, ballY);
                ctx.stroke();

                // ç»˜åˆ¶è½¨è¿¹å¼§çº¿
                ctx.strokeStyle = 'rgba(52, 152, 219, 0.3)';
                ctx.lineWidth = 2;
                ctx.setLineDash([5, 5]);
                ctx.beginPath();
                const maxAngle = parseFloat(document.getElementById('pendulum-angle').value) * Math.PI / 180;
                ctx.arc(pendulum.origin.x, pendulum.origin.y, pendulum.length, Math.PI/2 - maxAngle, Math.PI/2 + maxAngle);
                ctx.stroke();
                ctx.setLineDash([]);

                // ç»˜åˆ¶æ‘†çƒ
                const radius = 12 + pendulum.mass * 8;
                ctx.fillStyle = '#e74c3c';
                ctx.beginPath();
                ctx.arc(ballX, ballY, radius, 0, 2*Math.PI);
                ctx.fill();
                ctx.strokeStyle = '#c0392b';
                ctx.lineWidth = 2;
                ctx.stroke();

                // ç»˜åˆ¶é€Ÿåº¦çŸ¢é‡
                if (pendulum.isRunning && Math.abs(pendulum.angleVel) > 0.1) {
                    const velScale = 50;
                    const velX = -pendulum.angleVel * Math.cos(pendulum.angle) * velScale;
                    const velY = pendulum.angleVel * Math.sin(pendulum.angle) * velScale;
                    
                    ctx.strokeStyle = '#3498db';
                    ctx.lineWidth = 3;
                    ctx.beginPath();
                    ctx.moveTo(ballX, ballY);
                    ctx.lineTo(ballX + velX, ballY + velY);
                    ctx.stroke();
                    
                    // ç®­å¤´
                    const arrowSize = 8;
                    const angle = Math.atan2(velY, velX);
                    ctx.beginPath();
                    ctx.moveTo(ballX + velX, ballY + velY);
                    ctx.lineTo(ballX + velX - arrowSize * Math.cos(angle - Math.PI/6), 
                              ballY + velY - arrowSize * Math.sin(angle - Math.PI/6));
                    ctx.moveTo(ballX + velX, ballY + velY);
                    ctx.lineTo(ballX + velX - arrowSize * Math.cos(angle + Math.PI/6), 
                              ballY + velY - arrowSize * Math.sin(angle + Math.PI/6));
                    ctx.stroke();
                }

                // ç»˜åˆ¶è§’åº¦æ ‡æ³¨
                ctx.fillStyle = '#7f8c8d';
                ctx.font = '14px Arial';
                ctx.fillText(`Î¸ = ${(pendulum.angle * 180/Math.PI).toFixed(1)}Â°`, 20, 30);
                ctx.fillText(`Ï‰ = ${pendulum.angleVel.toFixed(2)} rad/s`, 20, 50);
            }

            function animate() {
                updatePendulum();
                drawPendulum();
                if (pendulum.isRunning) {
                    pendulumAnimation = requestAnimationFrame(animate);
                }
            }

            window.startPendulum = function() {
                const angle = parseFloat(document.getElementById('pendulum-angle').value) * Math.PI / 180;
                const length = parseFloat(document.getElementById('pendulum-length').value);
                const mass = parseFloat(document.getElementById('pendulum-mass').value);
                
                pendulum.angle = angle;
                pendulum.angleVel = 0;
                pendulum.mass = mass;
                pendulum.length = length * 100;
                
                // è®¡ç®—åˆå§‹èƒ½é‡
                const initialHeight = pendulum.length * (1 - Math.cos(pendulum.angle)) / 100;
                pendulum.initialEnergy = pendulum.mass * pendulum.gravity * initialHeight;
                
                pendulum.isRunning = true;
                animate();
            };

            window.pausePendulum = function() {
                pendulum.isRunning = !pendulum.isRunning;
                if (pendulum.isRunning) animate();
            };

            window.resetPendulum = function() {
                if (pendulumAnimation) cancelAnimationFrame(pendulumAnimation);
                pendulum.isRunning = false;
                
                const angle = parseFloat(document.getElementById('pendulum-angle').value) * Math.PI / 180;
                pendulum.angle = angle;
                pendulum.angleVel = 0;
                
                drawPendulum();
                updatePendulumDisplay(0, 0, 0, 0);
            };

            // åˆå§‹ç»˜åˆ¶
            drawPendulum();
        }

        // ç¢°æ’ä»¿çœŸ
        function initializeCollision() {
            const canvas = document.getElementById('collision-canvas');
            const ctx = canvas.getContext('2d');
            
            let balls = {
                ball1: { x: 100, y: canvas.height/2, vx: 0, vy: 0, mass: 2, radius: 25, color: '#e74c3c' },
                ball2: { x: 500, y: canvas.height/2, vx: 0, vy: 0, mass: 1, radius: 20, color: '#3498db' },
                collisionOccurred: false,
                isAnimating: false
            };

            function drawCollision() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // ç»˜åˆ¶åœ°é¢
                ctx.fillStyle = '#34495e';
                ctx.fillRect(0, canvas.height - 20, canvas.width, 20);
                
                // ç»˜åˆ¶çƒ1
                ctx.fillStyle = balls.ball1.color;
                ctx.beginPath();
                ctx.arc(balls.ball1.x, balls.ball1.y, balls.ball1.radius, 0, 2*Math.PI);
                ctx.fill();
                ctx.strokeStyle = '#c0392b';
                ctx.lineWidth = 2;
                ctx.stroke();
                
                // çƒ1æ ‡ç­¾
                ctx.fillStyle = 'white';
                ctx.font = 'bold 14px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('1', balls.ball1.x, balls.ball1.y + 5);
                
                // ç»˜åˆ¶çƒ2
                ctx.fillStyle = balls.ball2.color;
                ctx.beginPath();
                ctx.arc(balls.ball2.x, balls.ball2.y, balls.ball2.radius, 0, 2*Math.PI);
                ctx.fill();
                ctx.strokeStyle = '#2980b9';
                ctx.lineWidth = 2;
                ctx.stroke();
                
                // çƒ2æ ‡ç­¾
                ctx.fillStyle = 'white';
                ctx.fillText('2', balls.ball2.x, balls.ball2.y + 5);
                
                // ç»˜åˆ¶é€Ÿåº¦çŸ¢é‡
                if (balls.ball1.vx !== 0 || balls.isAnimating) {
                    drawVelocityVector(balls.ball1.x, balls.ball1.y - balls.ball1.radius - 20, 
                                     balls.ball1.vx * 20, balls.ball1.color, 'vâ‚');
                }
                if (balls.ball2.vx !== 0 || balls.isAnimating) {
                    drawVelocityVector(balls.ball2.x, balls.ball2.y - balls.ball2.radius - 20, 
                                     balls.ball2.vx * 20, balls.ball2.color, 'vâ‚‚');
                }
            }

            function drawVelocityVector(x, y, length, color, label) {
                if (Math.abs(length) < 5) return;
                
                ctx.strokeStyle = color;
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.moveTo(x, y);
                ctx.lineTo(x + length, y);
                ctx.stroke();
                
                // ç®­å¤´
                const arrowSize = 8;
                ctx.beginPath();
                ctx.moveTo(x + length, y);
                ctx.lineTo(x + length - arrowSize, y - 5);
                ctx.moveTo(x + length, y);
                ctx.lineTo(x + length - arrowSize, y + 5);
                ctx.stroke();
                
                // æ ‡ç­¾
                ctx.fillStyle = color;
                ctx.font = '12px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(label, x + length/2, y - 10);
            }

            function updateCollisionDisplay() {
                const m1 = parseFloat(document.getElementById('ball1-mass').value);
                const m2 = parseFloat(document.getElementById('ball2-mass').value);
                const v1 = parseFloat(document.getElementById('ball1-velocity').value);
                const e = parseFloat(document.getElementById('restitution').value);
                
                balls.ball1.mass = m1;
                balls.ball2.mass = m2;
                balls.ball1.radius = 15 + m1 * 5;
                balls.ball2.radius = 15 + m2 * 5;
                
                // è®¡ç®—ç¢°æ’å‰
                const momentumBefore = m1 * v1;
                const kineticBefore = 0.5 * m1 * v1 * v1;
                
                // è®¡ç®—ç¢°æ’åé€Ÿåº¦
                const v1After = ((m1 - e * m2) * v1) / (m1 + m2);
                const v2After = (m1 * (1 + e) * v1) / (m1 + m2);
                
                const momentumAfter = m1 * v1After + m2 * v2After;
                const kineticAfter = 0.5 * m1 * v1After * v1After + 0.5 * m2 * v2After * v2After;
                
                // æ›´æ–°æ˜¾ç¤º
                document.getElementById('collision-kinetic-before').innerHTML = 
                    kineticBefore.toFixed(2) + ' <span class="meter-unit">J</span>';
                document.getElementById('collision-kinetic-after').innerHTML = 
                    kineticAfter.toFixed(2) + ' <span class="meter-unit">J</span>';
                document.getElementById('collision-momentum-before').innerHTML = 
                    momentumBefore.toFixed(2) + ' <span class="meter-unit">kgÂ·m/s</span>';
                document.getElementById('collision-momentum-after').innerHTML = 
                    momentumAfter.toFixed(2) + ' <span class="meter-unit">kgÂ·m/s</span>';
                
                // æ›´æ–°è¿›åº¦æ¡
                const maxKinetic = Math.max(kineticBefore, kineticAfter, 1);
                const maxMomentum = Math.max(Math.abs(momentumBefore), Math.abs(momentumAfter), 1);
                
                document.getElementById('collision-kinetic-before-bar').style.width = 
                    (kineticBefore / maxKinetic * 100) + '%';
                document.getElementById('collision-kinetic-after-bar').style.width = 
                    (kineticAfter / maxKinetic * 100) + '%';
                document.getElementById('collision-momentum-before-bar').style.width = 
                    (Math.abs(momentumBefore) / maxMomentum * 100) + '%';
                document.getElementById('collision-momentum-after-bar').style.width = 
                    (Math.abs(momentumAfter) / maxMomentum * 100) + '%';
                
                drawCollision();
            }

            function animateCollision() {
                if (!balls.isAnimating) return;
                
                balls.ball1.x += balls.ball1.vx * 2;
                balls.ball2.x += balls.ball2.vx * 2;
                
                // æ£€æŸ¥ç¢°æ’
                const distance = Math.abs(balls.ball2.x - balls.ball1.x);
                const minDistance = balls.ball1.radius + balls.ball2.radius;
                
                if (distance <= minDistance && !balls.collisionOccurred && balls.ball1.vx > 0) {
                    performCollision();
                    balls.collisionOccurred = true;
                }
                
                drawCollision();
                
                // æ£€æŸ¥è¾¹ç•Œ
                if (balls.ball1.x > canvas.width + 100 || balls.ball2.x > canvas.width + 100) {
                    balls.isAnimating = false;
                    canvas.dataset.animating = 'false';
                    return;
                }
                
                if (balls.isAnimating) {
                    collisionAnimation = requestAnimationFrame(animateCollision);
                }
            }

            function performCollision() {
                const m1 = balls.ball1.mass;
                const m2 = balls.ball2.mass;
                const v1 = balls.ball1.vx;
                const v2 = balls.ball2.vx;
                const e = parseFloat(document.getElementById('restitution').value);
                
                // ä¸€ç»´å¼¹æ€§ç¢°æ’å…¬å¼
                balls.ball1.vx = ((m1 - e * m2) * v1 + m2 * (1 + e) * v2) / (m1 + m2);
                balls.ball2.vx = ((m2 - e * m1) * v2 + m1 * (1 + e) * v1) / (m1 + m2);
            }

            window.startCollision = function() {
                balls.collisionOccurred = false;
                balls.isAnimating = true;
                canvas.dataset.animating = 'true';
                
                // é‡ç½®ä½ç½®
                balls.ball1.x = 100;
                balls.ball2.x = 500;
                
                // è®¾ç½®åˆå§‹é€Ÿåº¦
                balls.ball1.vx = parseFloat(document.getElementById('ball1-velocity').value);
                balls.ball2.vx = 0;
                
                updateCollisionDisplay();
                animateCollision();
            };

            window.resetCollision = function() {
                if (collisionAnimation) cancelAnimationFrame(collisionAnimation);
                balls.isAnimating = false;
                balls.collisionOccurred = false;
                canvas.dataset.animating = 'false';
                
                balls.ball1.x = 100;
                balls.ball2.x = 500;
                balls.ball1.vx = 0;
                balls.ball2.vx = 0;
                
                updateCollisionDisplay();
            };

            window.setElastic = function() {
                document.getElementById('restitution').value = '1.00';
                document.getElementById('restitution-value').textContent = '1.00';
                updateCollisionDisplay();
            };

            window.setInelastic = function() {
                document.getElementById('restitution').value = '0.00';
                document.getElementById('restitution-value').textContent = '0.00';
                updateCollisionDisplay();
            };

            // åˆå§‹åŒ–æ˜¾ç¤º
            updateCollisionDisplay();
        }

        // èƒ½é‡æ˜¾ç¤ºæ›´æ–°å‡½æ•°
        function updatePendulumDisplay(kinetic, potential, mechanical, lost) {
            document.getElementById('pendulum-kinetic').innerHTML = 
                kinetic.toFixed(2) + ' <span class="meter-unit">J</span>';
            document.getElementById('pendulum-potential').innerHTML = 
                potential.toFixed(2) + ' <span class="meter-unit">J</span>';
            document.getElementById('pendulum-mechanical').innerHTML = 
                mechanical.toFixed(2) + ' <span class="meter-unit">J</span>';
            document.getElementById('pendulum-lost').innerHTML = 
                lost.toFixed(2) + ' <span class="meter-unit">J</span>';
            
            const maxEnergy = Math.max(mechanical + lost, 1);
            
            document.getElementById('pendulum-kinetic-bar').style.width = 
                (kinetic / maxEnergy * 100) + '%';
            document.getElementById('pendulum-potential-bar').style.width = 
                (potential / maxEnergy * 100) + '%';
            document.getElementById('pendulum-mechanical-bar').style.width = 
                (mechanical / maxEnergy * 100) + '%';
            document.getElementById('pendulum-lost-bar').style.width = 
                (lost / maxEnergy * 100) + '%';
        }

        // æµ‹éªŒç³»ç»Ÿ
        function initializeQuiz() {
            createQuizHTML();
            showQuestion(0);
        }

        function createQuizHTML() {
            const progressContainer = document.getElementById('quiz-progress');
            const quizContainer = document.getElementById('quiz-container');
            
            // åˆ›å»ºè¿›åº¦æŒ‡ç¤ºå™¨
            progressContainer.innerHTML = '';
            for (let i = 0; i < quizQuestions.length; i++) {
                const circle = document.createElement('div');
                circle.className = 'progress-circle';
                circle.id = `progress-${i}`;
                progressContainer.appendChild(circle);
            }
            
            // åˆ›å»ºé¢˜ç›®HTML
            quizContainer.innerHTML = '';
            quizQuestions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-container';
                questionDiv.id = `question-${index}`;
                
                let optionsHTML = '';
                q.options.forEach((option, optionIndex) => {
                    optionsHTML += `
                        <div class="option-item" onclick="selectAnswer(${index}, ${optionIndex})">
                            ${String.fromCharCode(65 + optionIndex)}. ${option}
                        </div>
                    `;
                });
                
                const imageHTML = q.image ? 
                    `<div class="question-image">ğŸ“Š ${q.image}</div>` : '';
                
                questionDiv.innerHTML = `
                    <h3 class="question-text">ç¬¬ ${index + 1} é¢˜ï¼š</h3>
                    <p class="question-text">${q.question}</p>
                    ${imageHTML}
                    <div class="options-list">
                        ${optionsHTML}
                    </div>
                    <div class="feedback-section" id="feedback-${index}">
                        <p id="feedback-text-${index}"></p>
                        <p><strong>è¯¦ç»†è§£é‡Šï¼š</strong></p>
                        <p>${q.explanation}</p>
                    </div>
                `;
                
                quizContainer.appendChild(questionDiv);
            });
        }

        function showQuestion(index) {
            document.querySelectorAll('.question-container').forEach(q => q.classList.remove('active'));
            document.getElementById(`question-${index}`).classList.add('active');
            
            document.querySelectorAll('.progress-circle').forEach(circle => circle.classList.remove('active'));
            document.getElementById(`progress-${index}`).classList.add('active');
            
            currentQuestionIndex = index;
            
            // æ›´æ–°å¯¼èˆªæŒ‰é’®
            document.getElementById('prev-question').style.display = index > 0 ? 'inline-block' : 'none';
            document.getElementById('next-question').style.display = 'none';
        }

        function selectAnswer(questionIndex, optionIndex) {
            const question = quizQuestions[questionIndex];
            const options = document.querySelectorAll(`#question-${questionIndex} .option-item`);
            const feedback = document.getElementById(`feedback-${questionIndex}`);
            const feedbackText = document.getElementById(`feedback-text-${questionIndex}`);
            
            // è®°å½•ç­”æ¡ˆ
            userAnswers[questionIndex] = optionIndex;
            
            // ç¦ç”¨æ‰€æœ‰é€‰é¡¹
            options.forEach(option => option.onclick = null);
            
            // æ ‡è®°æ­£ç¡®å’Œé”™è¯¯ç­”æ¡ˆ
            options[question.correct].classList.add('correct');
            if (optionIndex !== question.correct) {
                options[optionIndex].classList.add('incorrect');
            }
            
            // æ›´æ–°åˆ†æ•°å’Œåé¦ˆ
            if (optionIndex === question.correct) {
                quizScore++;
                feedbackText.innerHTML = 'ğŸ‰ <strong>å›ç­”æ­£ç¡®ï¼</strong>';
                feedback.classList.add('correct');
                document.getElementById(`progress-${questionIndex}`).classList.add('completed');
            } else {
                feedbackText.innerHTML = `âŒ <strong>å›ç­”é”™è¯¯ã€‚</strong> æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼š<strong>${String.fromCharCode(65 + question.correct)}</strong>`;
                feedback.classList.add('incorrect');
            }
            
            feedback.classList.add('show');
            
            // æ˜¾ç¤ºå¯¼èˆªæŒ‰é’®
            if (currentQuestionIndex < quizQuestions.length - 1) {
                document.getElementById('next-question').style.display = 'inline-block';
            } else {
                // æœ€åä¸€é¢˜ï¼Œæ˜¾ç¤ºç»“æœæŒ‰é’®
                const resultsBtn = document.createElement('button');
                resultsBtn.className = 'btn';
                resultsBtn.textContent = 'æŸ¥çœ‹ç»“æœ ğŸ¯';
                resultsBtn.onclick = showQuizResults;
                document.querySelector('.quiz-navigation').appendChild(resultsBtn);
            }
            
            // é‡æ–°æ¸²æŸ“æ•°å­¦å…¬å¼
            if (window.MathJax) {
                MathJax.typesetPromise([feedback]);
            }
        }

        function nextQuestion() {
            if (currentQuestionIndex < quizQuestions.length - 1) {
                showQuestion(currentQuestionIndex + 1);
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                showQuestion(currentQuestionIndex - 1);
            }
        }

        function showQuizResults() {
            document.querySelectorAll('.question-container').forEach(q => q.style.display = 'none');
            document.querySelector('.quiz-navigation').style.display = 'none';
            
            const resultsContainer = document.getElementById('quiz-results');
            const scoreDisplay = document.getElementById('final-score-display');
            const performanceFeedback = document.getElementById('performance-feedback');
            
            scoreDisplay.textContent = `${quizScore}/${quizQuestions.length}`;
            
            const percentage = (quizScore / quizQuestions.length) * 100;
            let feedback = '';
            
            if (percentage >= 90) {
                feedback = `
                    <h4 style="color: #2ecc71;">ğŸ† ä¼˜ç§€è¡¨ç°ï¼</h4>
                    <p>æ‚¨å¯¹èƒ½é‡å®ˆæ’å®šå¾‹æœ‰æ·±å…¥çš„ç†è§£ï¼æ‚¨å·²ç»æŒæ¡äº†ä»åŸºæœ¬æ¦‚å¿µåˆ°å®é™…åº”ç”¨çš„å„ä¸ªæ–¹é¢ã€‚
                    å»ºè®®æ‚¨ç»§ç»­æ¢ç´¢æ›´é«˜çº§çš„ç‰©ç†æ¦‚å¿µï¼Œå¦‚çƒ­åŠ›å­¦å®šå¾‹ã€ç”µç£èƒ½é‡ç­‰ã€‚</p>
                `;
            } else if (percentage >= 70) {
                feedback = `
                    <h4 style="color: #3498db;">ğŸ‘ è‰¯å¥½æŒæ¡ï¼</h4>
                    <p>æ‚¨å¯¹å¤§éƒ¨åˆ†æ¦‚å¿µç†è§£æ­£ç¡®ï¼Œä½†åœ¨æŸäº›åº”ç”¨é—®é¢˜ä¸Šè¿˜éœ€è¦åŠ å¼ºã€‚
                    å»ºè®®å¤šç»ƒä¹ å®é™…è®¡ç®—é—®é¢˜ï¼ŒåŠ æ·±å¯¹èƒ½é‡è½¬æ¢è¿‡ç¨‹çš„ç†è§£ã€‚</p>
                `;
            } else if (percentage >= 50) {
                feedback = `
                    <h4 style="color: #f39c12;">ğŸ“š ç»§ç»­åŠªåŠ›ï¼</h4>
                    <p>æ‚¨æŒæ¡äº†åŸºæœ¬æ¦‚å¿µï¼Œä½†åœ¨å…·ä½“åº”ç”¨ä¸Šè¿˜éœ€è¦æé«˜ã€‚
                    å»ºè®®é‡æ–°å¤ä¹ èƒ½é‡çš„å„ç§å½¢å¼å’Œè½¬æ¢è§„å¾‹ï¼Œå¤šåšç»ƒä¹ é¢˜ã€‚</p>
                `;
            } else {
                feedback = `
                    <h4 style="color: #e74c3c;">ğŸ’ª éœ€è¦åŠ å¼ºï¼</h4>
                    <p>å»ºè®®é‡æ–°å­¦ä¹ åŸºç¡€æ¦‚å¿µï¼Œç‰¹åˆ«æ˜¯åŠ¨èƒ½ã€åŠ¿èƒ½çš„è®¡ç®—å’Œèƒ½é‡å®ˆæ’å®šå¾‹çš„åº”ç”¨ã€‚
                    å¯ä»¥é€šè¿‡æ›´å¤šçš„å®éªŒæ¼”ç¤ºæ¥åŠ æ·±ç†è§£ã€‚</p>
                `;
            }
            
            performanceFeedback.innerHTML = feedback;
            resultsContainer.classList.add('show');
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            quizScore = 0;
            userAnswers = [];
            
            document.getElementById('quiz-results').classList.remove('show');
            document.querySelector('.quiz-navigation').style.display = 'flex';
            
            // ç§»é™¤ç»“æœæŒ‰é’®
            const resultsBtn = document.querySelector('.quiz-navigation button:last-child');
            if (resultsBtn && resultsBtn.textContent.includes('æŸ¥çœ‹ç»“æœ')) {
                resultsBtn.remove();
            }
            
            document.querySelectorAll('.question-container').forEach(q => {
                q.style.display = '';
                q.classList.remove('active');
            });
            
            document.querySelectorAll('.option-item').forEach(option => {
                option.classList.remove('correct', 'incorrect');
                const questionIndex = parseInt(option.closest('.question-container').id.split('-')[1]);
                const optionIndex = Array.from(option.parentNode.children).indexOf(option);
                option.onclick = function() { selectAnswer(questionIndex, optionIndex); };
            });
            
            document.querySelectorAll('.feedback-section').forEach(feedback => {
                feedback.classList.remove('show', 'correct', 'incorrect');
            });
            
            document.querySelectorAll('.progress-circle').forEach(circle => {
                circle.classList.remove('active', 'completed');
            });
            
            showQuestion(0);
        }
    </script>
</body>
</html>